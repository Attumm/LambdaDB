(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{297:function(e,t,a){},455:function(e,t,a){},535:function(e,t,a){e.exports=a(975)},629:function(e,t,a){},643:function(e,t,a){},761:function(e,t,a){},769:function(e,t,a){},779:function(e,t,a){},781:function(e,t,a){},868:function(e,t,a){},883:function(e,t,a){},925:function(e,t,a){},968:function(e,t,a){},970:function(e,t,a){},972:function(e,t,a){},975:function(e,t,a){"use strict";a.r(t);a(536),a(541),a(543),a(546),a(552),a(570),a(572);var n=a(0),r=a.n(n),o=a(11),l=a.n(o),i=a(983),c=a(477),s=(a(608),a(328)),u=a(21),d=a(22),m=a(24),p=a(23),h=a(25),f=a(985),v=a(979),g=a(982),y=a(984),b=a(70),E=a.n(b),w=a(47),C=r.a.createContext(),S=function(e,t){switch(t.type){case"SET_DEVICES":return Object(w.a)({},e,{devices:t.payload});case"SHOW_TABLE_LOADING_OVERLAY":return Object(w.a)({},e,{tableResultsAreLoading:t.payload});case"SHOW_RESULTS_TABLE":return Object(w.a)({},e,{showResultsTable:t.payload});case"SET_COUNTRIES":return Object(w.a)({},e,{countryList:t.payload});case"SET_CREDENTIALS":return Object(w.a)({},e,{credentialsList:t.payload});default:return e}},k=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={devices:[],countryList:[],credentialsList:[],tableResultsAreLoading:!1,showResultsTable:!1,dispatch:function(e){return a.setState(function(t){return S(t,e)})}},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=Object(w.a)({},this.state),t=this.props.children;return r.a.createElement(C.Provider,{value:e},t)}}]),t}(n.Component),O=C.Consumer,N=a(39),j=a.n(N),D=window.__env,x=D.apiDomain,M=D.authApiDomain,A=D.sharedKey,I=D.dmsSearchApiDomain;j.a.interceptors.request.use(function(e){var t=localStorage.getItem("auth"),a="".concat(M,"/login/").concat(A),n=null,r=null;if(e.url===a&&(localStorage.removeItem("auth"),localStorage.removeItem("roles"),t=null),t){var o=JSON.parse(t);if(n=o.jwt,r=E.a.unix(o.logged_in_till),E()().isAfter(r))return localStorage.removeItem("auth"),localStorage.removeItem("roles"),void(window.location.href="/public/login");n&&(e.headers["X-auth"]=n)}else e.url!==a&&e.url.indexOf("heartbeat")<0&&(window.location.href="/public/login");return e},function(e){return Promise.reject(e)});var T=function(e){return j()({method:"post",url:"".concat(M,"/login/").concat(A),timeout:1e4,data:e})},R=function(e){return j.a.get("".concat(x,"/dds-pages/"))},F=function(e){return j.a.get("".concat(x,"/device/").concat(e,"/oob-pwd/"))},L=function(e,t,a){return j.a.get("".concat(x,"/sys/heartbeat?page=").concat(t,"&user_id=").concat(a),{timeout:e})},P=function(){return j.a.get("".concat(x,"/dsm/all/"))},_=function(e,t,a){return j.a.get("".concat(x,"/dsm/").concat(e,"/").concat(t,"/").concat(a,"/"))},H=function(e,t,a,n){return j.a.get("".concat(I,"search/?").concat(t,"=").concat(e,"&page=").concat(a.page,"&pagesize=").concat(a.pageSize).concat(a.sorting).concat(a.filtering),n)},z=function(e,t,a){return j.a.get("".concat(I,"typeahead/").concat(t,"/?typeahead=").concat(e,"&limit=").concat(a))},V=function(e,t,a,n,r){return j.a.get("".concat(I,"typeahead/").concat(r,"/?").concat(e,"=").concat(t).concat(a,"&limit=15"))},W=(a(629),a(90),a(26)),U=(a(196),a(71)),G=(a(108),a(7)),J=(a(166),a(46)),K=(a(376),a(43)),B=(a(643),K.a.Item),q=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={isLoggingIn:!1,isShowPassword:!1},a.usernameInput=r.a.createRef(),a.passwordInput=r.a.createRef(),a.handleSubmit=function(e){var t=a.props.form;e.preventDefault(),t.validateFields(function(e,t){e||(a.login(t),a.setState({isLoggingIn:!0}))})},a.login=function(e){T(e).then(function(e){return a.handleLoginSuccess(e)}).catch(function(e){return a.handleLoginError(e.response)})},a.handleLoginSuccess=function(e){localStorage.setItem("auth",JSON.stringify(e.data)),a.getRoles()},a.handleLoginError=function(e){var t=a.props.form;a.setState({isLoggingIn:!1}),e?e&&e.data&&e.data.error?(J.a.error(e.data.error),a.usernameInput.current.focus()):(J.a.error("Unfortunately there was an error, please try again"),t.resetFields()):J.a.error("Cannot connect to server, please check the vpn.")},a.getRoles=function(){R().then(function(e){return a.handleGetRolesSuccess(e)}).catch(function(e){return a.handleGetRolesError()})},a.handleGetRolesSuccess=function(e){var t=a.props.history;localStorage.setItem("roles",JSON.stringify(e.data)),localStorage.setItem("roles-initiated",!0),a.setState({isLoggingIn:!1}),t.push("/dds-search")},a.handleGetRolesError=function(){J.a.error("Unfortunately there was an error, please try again"),a.setState({isLoggingIn:!1})},a.showHidePassword=function(){var e=a.state.isShowPassword;a.setState({isShowPassword:!e}),a.passwordInput.current.focus()},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state,a=t.isLoggingIn,n=t.isShowPassword;return r.a.createElement(K.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(B,null,e("username",{rules:[{required:!0,message:"Please enter your username!"}]})(r.a.createElement(U.a,{ref:this.usernameInput,prefix:r.a.createElement(G.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username",autoFocus:!0}))),r.a.createElement(B,null,e("password",{rules:[{required:!0,message:"Please enter your password!"}]})(r.a.createElement(U.a,{ref:this.passwordInput,prefix:r.a.createElement(G.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),suffix:r.a.createElement(G.a,{type:n?"eye":"eye-invisible",title:n?"Hide Password":"Show Password",className:"sh-password",onClick:this.showHidePassword}),type:n?"text":"password",placeholder:"Password"}))),r.a.createElement(B,null,a&&r.a.createElement(W.a,{type:"primary",htmlType:"submit",className:"login-form-button",disabled:!0},r.a.createElement(G.a,{type:"sync",className:"login-spinner-icon",spin:!0})),!a&&r.a.createElement(W.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Login")))}}]),t}(r.a.Component),Y=Object(y.a)(K.a.create()(q));a(761);var X=function(){return r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"brand",href:"/"},r.a.createElement("div",{className:"logo"}),r.a.createElement("span",{className:"name"},"DSM")),r.a.createElement(Y,null))},Q=function(){return r.a.createElement("div",{className:"unauthorized-layout"},r.a.createElement(f.a,null,r.a.createElement(v.a,{path:"/public/login",component:X}),r.a.createElement(g.a,{to:"/public/login"})))},Z=(a(400),a(183)),$=a(3),ee=a.n($),te=(a(977),a(101)),ae=a(980),ne=a(981),re=(a(769),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={selectedMenuItem:"",isMobileNavExapnded:!1},a.getSelectedClass=function(e){return a.state.selectedMenuItem===e?"selected":""},a.expandCollapseNav=function(e){e.preventDefault();var t=a.state.isMobileNavExapnded;a.setState({isMobileNavExapnded:!t})},a.signout=function(e){var t=a.props.history;e.preventDefault(),localStorage.removeItem("auth"),localStorage.removeItem("roles"),t.push("/public/login")},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.history;this.setActiveMenuItem(),this.historyUnlisten=t.listen(function(t,a){e.setActiveMenuItem()})}},{key:"componentWillUnmount",value:function(){this.historyUnlisten()}},{key:"setActiveMenuItem",value:function(){var e=Object(ae.a)(window.location.pathname,{path:"/:section",strict:!1});e&&this.setState({selectedMenuItem:e.params.section})}},{key:"render",value:function(){var e=this,t=this.state,a=t.selectedMenuItem,n=t.isMobileNavExapnded,o=[];return localStorage.getItem("roles")&&(o=JSON.parse(localStorage.getItem("roles"))),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mobile-nav"},r.a.createElement("div",{className:"nav-toggle ".concat(n?"expanded":""),onClick:function(t){e.expandCollapseNav(t)}},r.a.createElement("span",{className:"nav-toggle-bar"})),r.a.createElement("nav",{className:"nav ".concat(n?"expanded":""),onClick:function(t){e.expandCollapseNav(t)}},r.a.createElement("ul",null,o.includes("search")&&r.a.createElement("li",{className:this.getSelectedClass("search")},r.a.createElement(ne.a,{to:"/dsm-search"},"Search")),r.a.createElement("li",{className:"seperator"},r.a.createElement("a",{href:"#",className:"reportBugLink"},"Report Bug")),r.a.createElement("li",null,r.a.createElement("a",{href:"#",className:"reportNewFeatureLink"},"Report New Feature")),r.a.createElement("li",null,r.a.createElement("a",{href:"#",onClick:function(t){return e.signout(t)}},"Logout"))))),r.a.createElement(te.a,{selectedKeys:[a],mode:"horizontal",theme:"dark"},r.a.createElement(te.a.Item,{key:"dsm-search"},r.a.createElement(ne.a,{to:"/dsm-search"},"DSM Search")),r.a.createElement(te.a.Item,{key:"dsm-editor"},r.a.createElement(ne.a,{to:"/dsm-editor"},"DSM Editor")),r.a.createElement(te.a.Item,{key:"dsm-viewer"},r.a.createElement(ne.a,{to:"/dsm-viewer"},"DSM Viewer"))))}}]),t}(n.Component)),oe=Object(y.a)(re),le=a(463),ie=a.n(le),ce=(a(779),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).signout=function(e){var t=a.props.history;e.preventDefault(),localStorage.removeItem("auth"),localStorage.removeItem("roles"),t.push("/public/login")},a.handleJiraScriptError=function(){J.a.error("Unfortunately there was an error related to the JIRA issue collector - you will not be able to report any issues.")},a.handleJiraScriptLoad=function(){window.ATL_JQ_PAGE_PROPS={triggerFunction:function(e){document.querySelectorAll(".reportBugLink").forEach(function(t){t.addEventListener("click",function(t){window.ATL_JQ_PAGE_PROPS.fieldValues.summary="[Bug]: ",t.preventDefault(),e()})}),document.querySelectorAll(".reportNewFeatureLink").forEach(function(t){t.addEventListener("click",function(t){window.ATL_JQ_PAGE_PROPS.fieldValues.summary="[NewFeature]: ",t.preventDefault(),e()})})},fieldValues:{summary:"[Bug]: "}}},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"user-menu"},r.a.createElement("a",{className:"user-menu-item",href:"#",onClick:function(t){return e.signout(t)}},r.a.createElement(G.a,{type:"lock"}),r.a.createElement("span",{className:"text"},"Sign Out"))),r.a.createElement(ie.a,{url:"https://jira.lgi.io/s/d2f11eb2426a5845d2ad6d6592ab1479-T/k0n5ws/76002/23aeed5035eb07e911417ba4d45ad09e/2.0.24/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=23a3f869",onError:this.handleJiraScriptError,onLoad:this.handleJiraScriptLoad}))}}]),t}(n.Component)),se=Object(y.a)(ce),ue=(a(781),Z.a.Header);var de,me,pe,he,fe,ve,ge=function(){return r.a.createElement(ue,{className:"global-header"},r.a.createElement("a",{className:"brand",href:"/"},r.a.createElement("div",{className:"logo"}),r.a.createElement("span",{className:"name"},"DSM")),r.a.createElement(oe,null),r.a.createElement(se,null))},ye=(a(402),a(184)),be=(a(403),a(72)),Ee=(a(787),a(465)),we=(a(291),a(57)),Ce=(a(292),a(27)),Se=(a(404),a(232)),ke=a(150),Oe=a(88),Ne=a.n(Oe),je=a(147),De=a(97),xe=(a(135),a(37)),Me=a(464),Ae=a.n(Me),Ie=a(18),Te=(a(868),xe.a.Option),Re={scheme:"railscasts",author:"ryan bates (http://railscasts.com)",base00:"#2b2b2b",base01:"#272935",base02:"#3a4055",base03:"#5a647e",base04:"#d4cfc9",base05:"#e6e1dc",base06:"#f4f1ed",base07:"#f9f7f3",base08:"#da4939",base09:"#cc7833",base0A:"#ffc66d",base0B:"#a5c261",base0C:"#519f50",base0D:"#6d9cbe",base0E:"#b6b3eb",base0F:"#bc9458"},Fe=window.innerWidth-40,Le=window.innerHeight-120,Pe=170,_e=40,He=22,ze=Pe+10,Ve=_e+30,We=10,Ue="+",Ge="-",Je="___meta___",Ke=null,Be=null,qe=null,Ye=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showModal:!1,selectedNodeData:{},nodeDataList:[],dsmSelectData:[],workspaces:[],dsmDomains:[],dsmModels:[],groups:["dds-admin","dds-user","dsm-admin"],operations:["create","read","update","delete"],rolesList:[],dsmFilter:{workspace:void 0,domain:void 0,model:void 0,group:void 0,operation:void 0},showJSONModal:!1,isLoading:!1,isHorizontal:!0,dsmDataD3Model:{},jsonModalData:{}},a.loadSelectBoxData=function(){try{P().then(function(e){a.setState({workspaces:e.data&&e.data.workspaces?e.data.workspaces:[],dsmSelectData:e.data?e.data:[]})})}catch(e){J.a.error("Unfortunately there was an error getting the DSM Workspaces.")}},a.loadDSMD3Object=function(){var e=Object(je.a)(Ne.a.mark(function e(t,n,r){var o;return Ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({isLoading:!0}),e.next=4,_(t,n,r);case 4:o=e.sent,a.setState({isLoading:!1,dsmDataD3Model:o.data},function(){a.initChart(o.data)}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),J.a.error("Unfortunately there was an error getting the DSM model.");case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,a,n){return e.apply(this,arguments)}}(),a.zoomed=function(){me.attr("transform",Ie.a.transform)},a.resetZoom=function(){ve.scaleTo(de,1),ve.translateTo(de,Le,0)},a.createNode=function(){var e,t=(e={},Object(ke.a)(e,Je,{key:"new_node1",enabled:!0}),Object(ke.a)(e,"name","New Node1"),e);(t=Ie.b(t)).depth=Ke.depth+1,t.parent=Ke,t.id=Date.now();var n=Ie.e(Be).node().parentNode,r=Ie.e(n).selectAll(".collapsibles-wrapper");r.select(".text-collapse").text(Ge),r.select(".node-collapse").attr("r",We),Ke.children||(Ke.children=[],Ke.data.children=[]),Ke.children.push(t),Ke._children=Ke.children,Ke.data.children.push(t.data),a.update(Ke)},a.removeNode=function(){if(Ke.parent){var e=Ke.parent.children.filter(function(e){return e.id!==Ke.id});if(Ke.parent.children=e.length?e:null,Ke.parent._children=e.length?e:null,!e.length){var t=Ie.f("#node-group-".concat(Ke.parent.id)).node().parentNode,n=Ie.e(t).selectAll(".collapsibles-wrapper");n.select(".text-collapse").text(""),n.select(".node-collapse").attr("r",0)}a.update(Ke.parent)}else alert("root node should not be deleted.")},a.editNode=function(){a.nodeClickHandler(Ke)},a.contextMenu=function(e,t){var n,r;Ke=e,Be=Ie.a.currentTarget,a.setState({selectedNodeData:e.data}),Ie.a.pageX||Ie.a.pageY?(n=Ie.a.pageX,r=Ie.a.pageY):(Ie.a.clientX||Ie.a.clientY)&&(n=Ie.a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,r=Ie.a.clientY+document.body.scrollTop+document.documentElement.scrollTop),r-=40,Ie.e("#context_menu").style("left","".concat(n,"px")).style("top","".concat(r,"px")).classed("show",!0),Ie.a.preventDefault()},a.hideContextMenu=function(){Ie.e("#context_menu").style("left","-1000px").style("top","-1000px").classed("show",!1)},a.toggleChildrenClick=function(e){var t=Ie.a.currentTarget,n=Ie.e(t).node().parentNode;Ie.e(n).select("text.text-collapse").text(function(e){return e.collapseText=e.collapseText===Ue?Ge:e.children?Ue:null,e.collapseText}),e.children=e.children?null:e._children,a.update(e)},a.nodeClickHandler=function(e){a.hideContextMenu(),Ke=e;var t=e.data,n=Object.keys(t).filter(function(e){return"children"!==e&&e!==Je}).map(function(e){return{key:e,value:"object"===typeof t[e]?JSON.stringify(t[e]):t[e],type:"object"===typeof t[e]?Array.isArray(t[e])?"array":"object":typeof t[e]}});a.props.form.resetFields(),a.setState({selectedNodeData:e.data,nodeDataList:n,showModal:!0,rolesList:t.rbac?t.rbac:[]})},a.equalToEventTarget=function(){return Object(De.a)(Object(De.a)(a))===Ie.a.target},a.setCollapsibleSymbolProperty=function(e){e.collapseText=e.children&&e._children?Ge:e._children?Ue:null},a.nodeMouseover=function(){Be=Ie.a.currentTarget,qe.classed("show",!0).classed("hide",!1)},a.nodeMousemove=function(e){var t=Ie.a.clientX,a=Ie.a.clientY-2*_e-20,n=e.data;qe.html('<span class="title">'.concat(n.name,'</span><hr/><span class="desc">').concat(n.description?n.description:"","</span>")).style("left","".concat(t,"px")).style("top","".concat(a,"px"))},a.nodeMouseout=function(){qe.classed("show",!1).classed("hide",!0)},a.initChart=function(e){var t=a.state.isHorizontal;Ie.e("#tree-chart").selectAll("*").remove(),Ie.e(".node-tooltip").remove();var n=e;(pe=Ie.b(n)).x0=Ve/2,pe.y0=0,pe.descendants().forEach(function(e,t){e.id=t,e._children=e.children,e.depth&&7!==e.data.name.length&&(e.children=null)}),ve=Ie.h().scaleExtent([.05,5]).on("zoom",a.zoomed),qe=Ie.e("#tree-chart-wrapper").append("div").attr("class","node-tooltip").classed("hide",!0),de=Ie.e("#tree-chart").attr("viewBox",[0,0,Fe,Le]).attr("width",Fe).attr("height",Le).call(ve),me=de.append("g"),ve.translateTo(de,t?Le:0,0),fe=me.append("g").classed("link",!0),he=me.append("g").attr("cursor","pointer").attr("pointer-events","all"),Ie.e("body").on("click",function(){a.hideContextMenu()}),a.update(pe)},a.update=function(e){var t=a.state.isHorizontal,n=null;n=t?Ie.c().source(function(e){return{x:e.source.x,y:e.source.y+Pe}}).x(function(e){return e.y}).y(function(e){return e.x}):Ie.d().source(function(e){return{x:e.source.x,y:e.source.y+_e/2}}).x(function(e){return e.x+Pe/2}).y(function(e){return e.y}),ze=Pe+10,Ve=_e+30,t&&(ze=_e+10,Ve=Pe+30);var r=Ie.g().nodeSize([ze,Ve]),o=Ie.a&&Ie.a.altKey?1e3:500,l=pe.descendants().reverse(),i=pe.links();r(pe);var c=pe,s=pe;pe.eachBefore(function(e){e.x<c.x&&(c=e),e.x>s.x&&(s=e)});var u=me.transition().duration(o).tween("resize",window.ResizeObserver?null:function(){return function(){return me.dispatch("toggle")}}),d=he.selectAll("g.node").data(l,function(e){return e.id}),m="translate(".concat(e.x0,",").concat(e.x0,")");t&&(m="translate(".concat(e.y0,",").concat(e.x0,")"));var p=d.enter().append("g").classed("node",!0).classed("disabled",function(e){var t=e.data.___meta___;return"boolean"===typeof t.enabled&&!t.enabled}).attr("transform",function(e){return m}),h=p.append("g").attr("class","node-group").attr("id",function(e){return"node-group-".concat(e.id)});h.append("rect").attr("width",Pe).attr("height",_e).attr("rx",3).attr("y",-_e/2),h.append("text").text(function(e){return e.data.name.length>=He?"".concat(e.data.name.substr(0,He-1),"..."):e.data.name}).attr("x",10).attr("y",3),h.on("mouseover",a.nodeMouseover),h.on("mousemove",a.nodeMousemove),h.on("mouseout",a.nodeMouseout),h.on("click",a.nodeClickHandler),h.on("contextmenu",a.contextMenu);var f=p.append("g").attr("class","collapsibles-wrapper");f.append("circle").attr("class","node-collapse").attr("cx",t?Pe:Pe/2).attr("cy",t?0:_e/2).attr("r",function(e){return e.children||e._children?We:0}).attr("",a.setCollapsibleSymbolProperty);var v=We/2;f.append("text").attr("class","text-collapse").attr("x",t?Pe:Pe/2).attr("y",t?v:_e/2+v).attr("text-anchor","middle").text(function(e){return e.collapseText}),f.on("click",a.toggleChildrenClick),d.merge(p).transition(u).attr("transform",function(e){return"translate(".concat(t?e.y:e.x,",").concat(t?e.x:e.y,")")}).attr("fill-opacity",1).attr("stroke-opacity",1),d.exit().transition(u).remove().attr("transform",function(a){return"translate(".concat(t?e.y:e.x,",").concat(t?e.x:e.y,")")}).attr("fill-opacity",0).attr("stroke-opacity",0);var g=fe.selectAll("path").data(i,function(e){return e.target.id}),y=g.enter().append("path").attr("d",function(t){var a={x:e.x0,y:e.y0};return n({source:a,target:a})});g.merge(y).transition(u).attr("d",n),g.exit().transition(u).remove().attr("d",function(t){var a={x:e.x,y:e.y};return n({source:a,target:a})}),pe.eachBefore(function(e){e.x0=e.x,e.y0=e.y})},a.handleCancelModal=function(){a.setState({showModal:!1})},a.isValidJSON=function(e){try{return JSON.parse(e),!0}catch(t){return!1}},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){if(e)J.a.error(e);else try{var n=Object(ke.a)({},Je,Ke.data[Je]?Ke.data[Je]:{key:""}),r=!1;if(t.nodeDataList.forEach(function(e){if("array"===e.type||"object"===e.type){if(!a.isValidJSON(e.value))return J.a.error("Invalid object/array at '".concat(e.key,"' field")),void(r=!0);n[e.key]=JSON.parse(e.value)}else n[e.key]=e.value}),n[Je].key=n.name.toLowerCase().replace(/ /g,"_"),t.rolesList&&(n.rbac=t.rolesList),r)return;Ke.data=Object(w.a)({},Ke.data,n),Ie.e("#node-group-".concat(Ke.id)).select("text").text(n.name),J.a.info("Node updated successfully."),a.setState({showModal:!1})}catch(o){J.a.error(o.message)}})},a.addKey=function(e,t){e.push({key:"",value:"",type:"string"}),a.setState({nodeDataList:e})},a.deleteKey=function(e,t){e.splice(t,1),a.setState({nodeDataList:e})},a.addRole=function(e){e.push({group:void 0,create:!1,read:!1,update:!1,delete:!1}),a.setState({rolesList:e})},a.deleteRole=function(e,t){e.splice(t,1),a.setState({rolesList:e})},a.generateDataModel=function(){a.setState({showJSONModal:!0,jsonModalData:pe.data})},a.handleCancelJsonModal=function(){a.setState({showJSONModal:!1})},a.onDsmWorkspaceChange=function(e){var t=a.state,n=t.dsmSelectData,r=t.dsmFilter;a.setState({dsmDomains:n.domains[e],dsmModels:[],dsmFilter:Object(w.a)({},r,{workspace:e,domain:void 0,model:void 0})})},a.onDsmDomainChange=function(e){var t=a.state,n=t.dsmSelectData,r=t.dsmFilter;a.setState({dsmModels:n.models[r.workspace][e],dsmFilter:Object(w.a)({},r,{domain:e,model:void 0})})},a.onDsmModelChange=function(){var e=a.props.form.getFieldValue("dsmFilter");a.setState({dsmFilter:e}),e.workspace&&e.domain&&e.model?a.loadDSMD3Object(e.workspace,e.domain,e.model):J.a.error("Worspace / Domain / Model should not be empty.")},a.onChangeOrientation=function(e){var t=a.state,n=t.isHorizontal,r=t.dsmDataD3Model;a.setState({isHorizontal:!n},function(){a.initChart(r)})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.loadSelectBoxData()}},{key:"render",value:function(){var e=this,t=this.state,a=t.showModal,o=t.selectedNodeData,l=t.nodeDataList,i=t.showJSONModal,c=t.rolesList,s=t.jsonModalData,u=t.dsmModels,d=t.dsmDomains,m=t.workspaces,p=t.groups,h=(t.operations,t.dsmFilter),f=t.isLoading,v=t.isHorizontal,g=this.props.form.getFieldDecorator;return r.a.createElement(n.Fragment,null,f&&r.a.createElement("div",{className:"loader"},r.a.createElement(Se.a,null)),r.a.createElement(K.a,{onSubmit:this.handleSubmit,className:"dms-filter-form"},r.a.createElement(we.a,{gutter:12},r.a.createElement(Ce.a,{span:4},r.a.createElement("h4",{className:"select-label"},"Wrokspace"),r.a.createElement(K.a.Item,null,g("dsmFilter.workspace",{initialValue:h.workspace})(r.a.createElement(xe.a,{placeholder:"Select Workspace",className:"data-model-select",onSelect:this.onDsmWorkspaceChange},m.map(function(e){return r.a.createElement(Te,{value:e,key:e},e)}))))),r.a.createElement(Ce.a,{span:4},r.a.createElement("h4",{className:"select-label"},"Domain"),r.a.createElement(K.a.Item,null,g("dsmFilter.domain",{initialValue:h.domain})(r.a.createElement(xe.a,{placeholder:"Select Domain",className:"data-model-select",onSelect:this.onDsmDomainChange},d.map(function(e){return r.a.createElement(Te,{value:e,key:e},e)}))))),r.a.createElement(Ce.a,{span:6},r.a.createElement("h4",{className:"select-label"},"DSM Model"),r.a.createElement(K.a.Item,null,g("dsmFilter.model",{initialValue:h.model})(r.a.createElement(xe.a,{showSearch:!0,placeholder:"Select DSM Model",className:"data-model-select",onSelect:this.onDsmModelChange},u.map(function(e){return r.a.createElement(Te,{value:e,key:e},e)}))))),r.a.createElement(Ce.a,{span:2,className:"btn-wrapper"},r.a.createElement(W.a,{type:"primary",size:"default",onClick:this.onDsmModelChange,disabled:!h.model},"Load")))),r.a.createElement(we.a,{gutter:12,className:"selected-wrapper"},r.a.createElement(Ce.a,{span:4},r.a.createElement("h5",null,"Selected Workspace"),r.a.createElement("h3",null,h.workspace)),r.a.createElement(Ce.a,{span:4},r.a.createElement("h5",null,"Selected Domain"),r.a.createElement("h3",null,h.domain)),r.a.createElement(Ce.a,{span:6},r.a.createElement("h5",null,"Selected DSM Model"),r.a.createElement("h3",null,h.model)),r.a.createElement(Ce.a,{span:4,className:"legend"},r.a.createElement("div",{className:"allowed"},r.a.createElement("span",{className:"icon"}),"Allowed"),r.a.createElement("div",{className:"not-allowed"},r.a.createElement("span",{className:"icon"}),"Not Allowed")),r.a.createElement(Ce.a,{span:4,className:"legend"},r.a.createElement("h5",null,"Horizontal Orientation"),r.a.createElement(Ee.a,{checked:v,onChange:this.onChangeOrientation}))),r.a.createElement("div",{id:"context_menu",className:"d3-context-menu"},r.a.createElement("ul",null,r.a.createElement("li",{onClick:this.createNode},"Create Child"),r.a.createElement("li",{onClick:this.removeNode},"Delete"),r.a.createElement("li",{onClick:this.editNode},"Edit"))),r.a.createElement(ye.a,{visible:a,title:o.name,onCancel:this.handleCancelModal,maskClosable:!1,keyboard:!1,className:"json-modal dsm-edit-modal",footer:[r.a.createElement(W.a,{key:"back",type:"primary",onClick:this.handleCancelModal},"Cancel"),r.a.createElement(W.a,{key:"submit",type:"primary",onClick:this.handleSubmit},"Update")]},r.a.createElement(K.a,{onSubmit:this.handleSubmit},r.a.createElement("h3",null,"Attributes/Fields"),l.map(function(t,a){return r.a.createElement(we.a,{gutter:12,key:"".concat(t.key,"-").concat(a)},r.a.createElement(Ce.a,{span:6},r.a.createElement(K.a.Item,null,g("nodeDataList[".concat(a,"].key"),{initialValue:t.key})(r.a.createElement(U.a,{placeholder:"Key",maxLength:512,disabled:"name"===t.key||t.key===Je})))),r.a.createElement(Ce.a,{span:3},r.a.createElement(K.a.Item,null,g("nodeDataList[".concat(a,"].type"),{initialValue:t.type})(r.a.createElement(xe.a,{placeholder:"Type",disabled:t.key===Je},r.a.createElement(Te,{value:"string",key:"string"},"String"),r.a.createElement(Te,{value:"array",key:"array"},"Array"),r.a.createElement(Te,{value:"object",key:"object"},"Object"),r.a.createElement(Te,{value:"boolean",key:"boolean"},"Boolean"))))),r.a.createElement(Ce.a,{span:11},r.a.createElement(K.a.Item,null,g("nodeDataList[".concat(a,"].value"),{initialValue:t.value})(r.a.createElement(U.a,{placeholder:"Value",disabled:t.key===Je})))),r.a.createElement(Ce.a,{span:4},r.a.createElement(K.a.Item,null,"name"!==t.key&&t.key!==Je&&r.a.createElement(W.a,{className:"add-delete-btn",onClick:function(){e.deleteKey(l,a)}},r.a.createElement(G.a,{type:"delete"})),l.length===a+1&&r.a.createElement(W.a,{className:"add-delete-btn",onClick:function(){e.addKey(l,a)}},r.a.createElement(G.a,{type:"plus"})))))}),r.a.createElement("h3",null,"Role based access control (RBAC)"),c.map(function(t,a){return r.a.createElement(we.a,{gutter:10,key:"".concat(t.group,"-").concat(a)},r.a.createElement(Ce.a,{span:6},r.a.createElement(K.a.Item,null,g("rolesList[".concat(a,"].group"),{initialValue:t.group,rules:[{required:!0,message:"Please choose the UIM group!"}]})(r.a.createElement(xe.a,{placeholder:"UIM Group"},p.map(function(e,t){return r.a.createElement(Te,{value:e,key:"".concat(t," - ").concat(Date.now())},e)}))))),r.a.createElement(Ce.a,{span:3},r.a.createElement(K.a.Item,{colon:!1},g("rolesList[".concat(a,"].create"),{valuePropName:"checked",initialValue:t.create})(r.a.createElement(be.a,null,"Create")))),r.a.createElement(Ce.a,{span:3},r.a.createElement(K.a.Item,{colon:!1},g("rolesList[".concat(a,"].read"),{valuePropName:"checked",initialValue:t.read})(r.a.createElement(be.a,null,"Read")))),r.a.createElement(Ce.a,{span:3},r.a.createElement(K.a.Item,{colon:!1},g("rolesList[".concat(a,"].update"),{valuePropName:"checked",initialValue:t.update})(r.a.createElement(be.a,null,"Update")))),r.a.createElement(Ce.a,{span:3},r.a.createElement(K.a.Item,{colon:!1},g("rolesList[".concat(a,"].delete"),{valuePropName:"checked",initialValue:t.delete})(r.a.createElement(be.a,null,"Delete")))),r.a.createElement(Ce.a,{span:4},r.a.createElement(K.a.Item,null,a>0&&r.a.createElement(W.a,{className:"add-delete-btn",onClick:function(){e.deleteRole(c,a)}},r.a.createElement(G.a,{type:"delete"})),a+1===c.length&&r.a.createElement(W.a,{className:"add-delete-btn",onClick:function(){e.addRole(c)}},r.a.createElement(G.a,{type:"plus"})))))}),0===c.length&&r.a.createElement(W.a,{className:"add-delete-btn",onClick:function(){e.addRole(c)}},r.a.createElement(G.a,{type:"plus"}),"Add UIM Group"))),r.a.createElement(ye.a,{visible:i,onCancel:this.handleCancelJsonModal,maskClosable:!1,keyboard:!1,className:"json-modal json-preview-modal"},r.a.createElement(Ae.a,{data:s,theme:Re,invertTheme:!0,hideRoot:!0})),r.a.createElement("div",{id:"tree-chart-wrapper"},r.a.createElement("svg",{id:"tree-chart"})))}}]),t}(n.Component),Xe=K.a.create({name:"DSMEditor"})(Ye),Qe=(a(412),a(153)),Ze=a(467),$e=(a(976),a(475)),et=a(235),tt=(a(883),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){},a.handleResize=function(e){return function(t,n){var r=n.size;a.setState(function(t){var a=t.columns,n=Object(et.a)(a);return n[e]=Object(w.a)({},n[e],{width:r.width}),{columns:n}})}},a.hostNameClick=function(){console.log("hostNameClick...")},a.handleTableChange=function(e,t,n){(0,a.props.onTableChange)(e,t,n)},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.rowData,a=e.colDefs,n=e.totalItems,o=e.tableHeight,l=e.page,i=e.isLoading;return r.a.createElement("div",{className:"data-table-wrapper"},r.a.createElement($e.a,{className:"data-table",components:this.components,dataSource:t,columns:a,loading:i,onChange:this.handleTableChange,pagination:{hideOnSinglePage:!0,defaultPageSize:20,pageSizeOptions:["10","20","50","100"],total:n,current:l,showSizeChanger:!0},scroll:{x:!1,y:o,scrollToFirstRowOnChange:!0}}))}}]),t}(n.Component));tt.defaultProps={isLoading:!0,totalItems:0,page:1,tableHeight:500};var at=tt,nt=(a(925),xe.a.Option),rt=Qe.a.OptGroup,ot=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).signal=j.a.CancelToken.source(),a.defaultColumnDefs={suppressMenu:!0},a.searchFilterOptions={IPv4:"&contains-value_type=ipv4_address",Hostname:"&contains-value_type=hostname"},a.state={tableHeight:500,serachOptions:[{Title:"Search",value:"search"},{Title:"IPv4",value:"IPv4"},{Title:"Hostname",value:"Hostname"},{Title:"Regex",value:"regex"},{Title:"Contains",value:"contains"},{Title:"Starts with",value:"startswith"},{Title:"Match",value:"match"}],filterOptions:[{Title:"Contains",value:"contains"},{Title:"Starts with",value:"startswith"},{Title:"Match",value:"match"},{Title:"Not Contains",value:"!contains"},{Title:"Not Starts with",value:"!startswith"},{Title:"Not Match",value:"!match"},{Title:"Any Contains",value:"any_contains"},{Title:"Any Starts with",value:"any_startswith"},{Title:"Any Match",value:"any_match"}],serachOption:"search",searchResults:[],searchColumns:[],searchView:"table",showResultsTable:!1,isLoading:!1,searchValue:"",autoCompleteDataSource:{suggessions:[]},totalItems:0,page:1,pageSize:20,sortingKey:"",sortOrder:"",filters:{},reqTime:0},a.tableWrapperRef=r.a.createRef(),a.debouncedOnChange=Object(Ze.debounce)(function(){a.setState({page:1,sortingKey:"",sortOrder:""}),a.getSearchResults()},100),a.onAutoCompleteChange=function(e){a.setState({searchValue:e||""},function(){a.debouncedOnChange()}),e?z(e||"","value",1).then(function(e){a.setState({autoCompleteDataSource:{suggessions:e.data?e.data:[]}})}).catch(function(e){a.setState({autoCompleteDataSource:{suggessions:[]}})}):a.setState({autoCompleteDataSource:{suggessions:[]}})},a.handleTableChange=function(e,t,n){a.setState({page:e.current,pageSize:e.pageSize,sortingKey:n.columnKey,sortOrder:n.order,filters:t},function(){a.getSearchResults()})},a.getSearchResults=Object(je.a)(Ne.a.mark(function e(){var t,n,r,o,l,i,c,s,u,d,m,p,h;return Ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.searchValue,r=t.page,o=t.pageSize,l=t.sortingKey,i=t.sortOrder,c=t.filters,s=a.state.serachOption,a.handleWindowResize(),u={},a.lastSession=u,a.setState({showResultsTable:!0,isLoading:!0}),e.prev=6,d="","ascend"===i&&(d="&sortby=".concat(l)),"descend"===i&&(d="&sortby=-".concat(l)),m=[],c&&(m=Object.keys(c).map(function(e){var t=c[e].value?c[e].value:"",a=c[e].option?c[e].option:"contains";return"&".concat(a,"-").concat(e,"=").concat(t)})),"IPv4"!==s&&"Hostname"!==s||(m.unshift(a.searchFilterOptions[s]),s="search"),p=m.join(""),e.next=16,H(n,s,{page:r,pageSize:o,sorting:l?d:"",filtering:p},{cancelToken:a.signal.token});case 16:if(h=e.sent,a.lastSession===u){e.next=19;break}return e.abrupt("return");case 19:a.onGetSearchSuccess(h),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(6),a.onSearchEmpty();case 25:case"end":return e.stop()}},e,null,[[6,22]])})),a.onGetSearchSuccess=function(e){a.parseTableData(e.data?e.data:[]),a.setState({isLoading:!1,totalItems:e.headers["total-items"]?e.headers["total-items"]:100,reqTime:e.headers["query-duration"]?e.headers["query-duration"]:"50ms"})},a.clickApplyFilters=function(){a.getSearchResults()},a.clickResetFilters=function(){var e=a.state.filters,t={};Object.keys(e).map(function(a){return t[a]=Object(w.a)({},e[a],{value:""}),a}),a.setState({filters:t},function(){a.getSearchResults()})},a.onColumnFilterKeyUpFocus=function(e,t,n){var r="";r=e&&e.target?e.target.value:e;var o=a.state.filters;e&&13===e.keyCode||n?(o[t].value=r,a.setState({filters:o},function(){a.getSearchResults()})):(o[t].value=r,o[t].autoCompleteOptions=[],a.setState({filters:o},function(){a.onColumnFilterAutocomplete(e,t)}))},a.onColumnFilterAutocomplete=function(e,t){var n=a.state,r=n.filters,o=n.serachOption,l=n.searchValue,i=e,c=[];r&&(c=Object.keys(r).map(function(e){var t=r[e].value?r[e].value:"",a=r[e].option?r[e].option:"contains";return"&".concat(a,"-").concat(e,"=").concat(t)}));var s=c.join("");V(o,l,s,i,t).then(function(e){r[t].autoCompleteOptions=e.data?e.data:[],a.setState({filters:r})}).catch(function(e){r[t].autoCompleteOptions=[],a.setState({filters:r})})},a.onColumnFilterOptionChange=function(e,t){var n=a.state.filters;n[t].option!==e&&(n[t].option=e,a.setState({filters:n}),n[t].value&&a.getSearchResults())},a.renderTitleWithFilter=function(e,t){var n=a.state,o=n.filterOptions,l=n.filters;return l[e]?r.a.createElement("div",{className:"custom-hd-wrp"},r.a.createElement("div",{className:"hd-label"},t),r.a.createElement("div",{onClick:function(e){e.stopPropagation()}},r.a.createElement(xe.a,{placeholder:"Select Option",dropdownClassName:"table-filter-dropdown",defaultValue:"contains",onSelect:function(t){a.onColumnFilterOptionChange(t,e)}},o.map(function(e){return r.a.createElement(nt,{value:e.value,key:e.value},e.Title)})),r.a.createElement(Qe.a,{dataSource:l[e].autoCompleteOptions,style:{width:200},defaultActiveFirstOption:!1,dropdownClassName:"column-filter-dropdown",value:l[e].value,onSelect:function(t){a.onColumnFilterKeyUpFocus(t,e,!0)},onSearch:function(t){a.onColumnFilterKeyUpFocus(t,e)},placeholder:t},r.a.createElement(U.a,{onKeyUp:function(t){a.onColumnFilterKeyUpFocus(t,e)},onFocus:function(t){a.onColumnFilterKeyUpFocus(t,e)}})))):""},a.createColDefs=function(){return[{title:a.renderTitleWithFilter("name","Hostname"),dataIndex:"name",key:"name",className:"name",sorter:!0,width:130},{title:a.renderTitleWithFilter("ip","IP"),dataIndex:"ip",key:"ip",className:"ip",sorter:!0,width:130},{title:a.renderTitleWithFilter("type","Type"),dataIndex:"type",key:"type",className:"type",sorter:!0,width:100},{title:a.renderTitleWithFilter("vendor","Vendor"),dataIndex:"vendor",key:"vendor",className:"vendor",sorter:!0,width:100},{title:a.renderTitleWithFilter("value","Value"),dataIndex:"value",key:"value",className:"value",sorter:!0,render:function(e){return r.a.createElement("div",{className:"wrap-single-line"},e)}},{title:a.renderTitleWithFilter("value_type","Value Type"),dataIndex:"value_type",key:"value_type",className:"value_type",sorter:!0,width:140},{title:a.renderTitleWithFilter("dn","DN"),dataIndex:"dn",key:"dn",className:"dn",width:240,render:function(e){return e&&e.length?e.join(", "):e}},{title:a.renderTitleWithFilter("country","Country"),dataIndex:"country",key:"country",className:"country",sorter:!0,width:120}]},a.parseTableData=function(e){var t=e.meta,n=a.state.filters;e.meta.fields.forEach(function(e,t){n[e.name]||(n[e.name]={option:"contains",value:"",autoCompleteOptions:[]})}),a.setState({filters:n},function(){var n=e.data.map(function(e,t){return Object(w.a)({},e,{key:t})});a.setState({searchResults:n,searchView:t.view,showResultsTable:!0})})},a.onSearchEmpty=function(){a.setState({searchResults:[],searchView:"table",showResultsTable:!0,isLoading:!1,page:0,totalItems:0})},a.setTableDimensions=function(){var e=a.tableWrapperRef.current.getBoundingClientRect().top,t=window.innerHeight-e-70-105;a.setState({tableHeight:t})},a.handleWindowResize=function(){a.setTableDimensions()},a.searchOptionChange=function(e){a.setState({serachOption:e},function(){a.debouncedOnChange()})},a.renderOption=function(){var e=a.state.autoCompleteDataSource;return Object.keys(e).map(function(t){return r.a.createElement(rt,{key:t,label:"suggessions"===t?"Suggestions":"Recent Searches"},e[t].map(function(e){return r.a.createElement(nt,{key:e,text:e},"loading"===e?r.a.createElement(G.a,{type:"loading"}):r.a.createElement("div",{className:"global-search-item"},r.a.createElement("span",{className:"global-search-item-desc"},e),"resentSearch"===t?r.a.createElement("span",{className:"search-history-remove"},"Remove"):""))}))})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){window.addEventListener("resize",this.handleWindowResize),this.setState({autoCompleteDataSource:{suggessions:[]}})}},{key:"componentWillUnmount",value:function(){this.signal.cancel("Canceled"),window.removeEventListener("resize",this.handleWindowResize)}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,o=t.reqTime,l=(t.searchValue,t.serachOptions),i=t.serachOption,c=t.searchResults,s=(t.searchColumns,t.autoCompleteDataSource),u=t.tableHeight,d=t.searchView,m=t.showResultsTable,p=t.totalItems,h=t.page,f=this.createColDefs();return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"search-input-wrapper initial-search-done clearfix"},r.a.createElement("div",{className:"top-option-box"},r.a.createElement(xe.a,{placeholder:"Select Option",className:"search-select-options",onSelect:this.searchOptionChange,value:i},l.map(function(e){return r.a.createElement(nt,{value:e.value,key:e.value},e.Title)})),p&&r.a.createElement("div",{className:"search-info ".concat(a?"loading":"")},a&&r.a.createElement("span",{className:"loading"},r.a.createElement(G.a,{type:"loading"})),r.a.createElement("span",null,"About "),parseInt(p,0).toLocaleString(),r.a.createElement("span",null," results ("),o,r.a.createElement("span",null,")"))),r.a.createElement("div",{className:"top-search-box"},r.a.createElement("div",{className:"global-search-wrapper"},r.a.createElement(Qe.a,{className:"search-input",size:"large",dataSource:s.suggessions,style:{width:"100%"},dropdownClassName:"column-filter-dropdown",defaultActiveFirstOption:!1,allowClear:!0,onSelect:function(t){return e.onAutoCompleteChange(t)},onSearch:function(t){return e.onAutoCompleteChange(t)},autoFocus:!0},r.a.createElement(U.a,{className:"search-input",placeholder:"Search...",prefix:r.a.createElement(G.a,{type:"search",style:{color:"rgba(0,0,0,.25)"}}),size:"large"}))))),r.a.createElement("div",{className:"search-filter-wrapper"},r.a.createElement(W.a,{className:"ant-btn-primary",onClick:this.clickResetFilters},r.a.createElement(G.a,{type:"filter"}),"Reset"),r.a.createElement(W.a,{className:"ant-btn-primary",onClick:this.clickApplyFilters},"Apply")),r.a.createElement("div",{className:"search-table-wrapper"},r.a.createElement("div",{ref:this.tableWrapperRef,className:"search-results"},"table"===d&&m&&r.a.createElement(at,{colDefs:f,rowData:c,tableHeight:u,totalItems:p,page:h,isLoading:a,onTableChange:this.handleTableChange}))))}}]),t}(n.Component);var lt=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(ot,null))},it=(a(421),a(237)),ct=(a(297),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={items:[],fields:[]},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.data,a=e.fields;this.setState({items:t,fields:a})}},{key:"componentWillReceiveProps",value:function(){}},{key:"render",value:function(){var e=this.state,t=e.items,a=e.fields;return r.a.createElement(n.Fragment,null,r.a.createElement(we.a,{gutter:16},t.map(function(e,t){return r.a.createElement(Ce.a,{span:8,key:"".concat(e.hostname,"-").concat(t)},r.a.createElement(it.a,{size:"small rounded-card",title:e.hostname},a.map(function(a,n){return a.isShow&&n>0?r.a.createElement(we.a,{gutter:16,key:"".concat(e.hostname,"-").concat(a.name,"-").concat(t,"-").concat(n)},r.a.createElement(Ce.a,{span:11,className:"label"},a.label),r.a.createElement(Ce.a,{span:11},e[a.name])):""})))})))}}]),t}(n.Component));ct.defaultProps={data:[],fields:[]};var st=ct,ut=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={items:[],fields:[]},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.data,a=e.fields;this.setState({items:t,fields:a})}},{key:"componentWillReceiveProps",value:function(){}},{key:"render",value:function(){var e=this.state,t=e.items,a=e.fields,o=this.props.titleClickHandler;return r.a.createElement(n.Fragment,null,t.map(function(e,t){return r.a.createElement("div",{className:"list-items",key:"".concat(e.hostname,"-").concat(t)},r.a.createElement(it.a,{size:"small",title:e.hostname,onClick:o},a.map(function(a,n){return a.isShow&&n>0?r.a.createElement("p",{key:"".concat(e.hostname,"-").concat(a.name,"-").concat(t,"-").concat(n)},r.a.createElement("span",{className:"label"},a.label),r.a.createElement("span",null,e[a.name]?e[a.name]:"-")):""})))}))}}]),t}(n.Component);ut.defaultProps={data:[],fields:[]};var dt=ut,mt=a(473),pt=(a(961),a(476)),ht=(a(964),a(474)),ft=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!1,passwordString:"********",password:""},a.formatArray=function(e){var t="";return e.forEach(function(n,r){if("object"===typeof n){if(!n)return void(t+="");t=Array.isArray(n)?a.formatArray(n):a.formatObject(n)}else t+="<span>".concat(n,"</span>");r<e.length-1&&(t+=", ")}),t},a.formatObject=function(e){var t="";return Object.keys(e).forEach(function(a){t+="<span><strong>".concat(a,"</strong>: ").concat(e[a]||"null","</span> ")}),t},a.onHostnameClick=function(e,t){t.preventDefault(),a.props.context.componentParent.handleHostnameClicked(e)},a.onEditClicked=function(e,t){e.preventDefault(),a.props.context.componentParent.showAddEditModal("EDIT",t)},a.onDeleteClicked=function(e,t){e.preventDefault(),a.props.context.componentParent.showDeleteConfirm(t)},a.onDeviceIngestionClick=function(e,t){e.preventDefault(),a.props.context.componentParent.initDeviceIngestion(t)},a.showHidePassword=function(){var e=Object(je.a)(Ne.a.mark(function e(t,n){var r,o,l,i;return Ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.state.passwordString,!n){e.next=4;break}return a.setState({password:r}),e.abrupt("return");case 4:return a.setState({isLoading:!0}),e.prev=5,o=a.props.context,l=o.componentParent.props.metadata.name,e.next=10,F(l);case 10:i=e.sent,a.setState({isLoading:!1,password:i.data.password}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),J.a.error("Unfortunately there was an error getting the password"),a.setState({isLoading:!1});case 18:case"end":return e.stop()}},e,null,[[5,14]])}));return function(t,a){return e.apply(this,arguments)}}(),a.formatValue=function(e){var t="";return e?"object"===typeof e?t=Array.isArray(e)?a.formatArray(e):a.formatObject(e):e:t},a.componentDidMount=function(){var e=a.props,t=e.colDef,n=e.data;"Password_TS"===t.field&&a.setState({password:n.Password_TS})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.value,n=t.colDef,o=t.data;if(this.state.isLoading)return r.a.createElement("div",{className:"spin-wrapper"},r.a.createElement(G.a,{type:"loading"}));if("hostname"===n.field)return n.isEditable?r.a.createElement("div",{className:"edit-wrapper"},a):r.a.createElement("a",{href:"#",onClick:this.onHostnameClick.bind(this,o)},a);if("actions"===n.field)return r.a.createElement("div",{className:"edit-wrapper center"},n.showEditButton&&r.a.createElement(W.a,{key:"inventory-edit",title:"Edit",size:"small",onClick:function(t){return e.onEditClicked(t,o)}},r.a.createElement(G.a,{type:"edit"})),n.showDeleteButton&&r.a.createElement(W.a,{key:"inventory-delete",title:"Delete",size:"small",onClick:function(t){return e.onDeleteClicked(t,o)}},r.a.createElement(G.a,{type:"delete"})),n.showDeviceIngestionButton&&r.a.createElement(ht.a,{title:'Are you sure want to run the ingestion for "'.concat(o.hostname,'"?'),onConfirm:function(t){return e.onDeviceIngestionClick(t,o)},okText:"Yes",cancelText:"No"},r.a.createElement(W.a,{key:"device-ingestion",title:"Device Ingestion",size:"small",className:"device-ingestion"},r.a.createElement(G.a,{type:"interaction"}))));if("actions"===n.field&&n.showEditButton)return r.a.createElement("div",{className:"edit-wrapper center"},r.a.createElement(W.a,{key:"inventory-edit",title:"Edit",size:"small",onClick:function(t){return e.onEditClicked(t,o)}},r.a.createElement(G.a,{type:"edit"})));if("Password_TS"===n.field){var l=this.state,i=l.passwordString,c=l.password;return r.a.createElement("div",{className:"sh-password"},c===i&&r.a.createElement(G.a,{type:"eye-invisible",onClick:function(){return e.showHidePassword(o,!1)}}),c!==i&&r.a.createElement(G.a,{type:"eye",onClick:function(){return e.showHidePassword(o,!0)}}),r.a.createElement("span",null,c))}if("status"===n.field&&n.displayIcon)return r.a.createElement("div",null,a&&"object"===typeof a&&r.a.createElement(pt.a,{className:"device-status-badge",status:a.status?"success":"error",text:a.message}),"object"!==typeof a&&r.a.createElement("span",null,a));if(n.showActiveInactiveIcon)return a?r.a.createElement(G.a,{type:"check-circle",theme:"filled",style:{color:"#52c41a"}}):r.a.createElement(G.a,{type:"close-circle",theme:"filled",style:{color:"#f5222d"}});if("profile"===n.field&&n.isInventory)return a&&a.name?"".concat(a.name):a?"".concat(a.type,", ").concat(a.vendor,", ").concat(a.version):"";if("country"===n.field&&n.isInventory)return a?"".concat(a.name):"";if(n.isFormatDate)return a?E()(a).utc().format("MMM DD, YYYY, hh:mm A"):"";var s={__html:this.formatValue(a)};return r.a.createElement("div",{dangerouslySetInnerHTML:s})}}]),t}(n.Component);ft.defaultProps={value:"",context:{}};var vt=ft,gt=(a(326),a(234)),yt=(a(455),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleCmaItemClicked=function(e,t){t.preventDefault(),a.props.context.componentParent.handleCmaItemClicked(e)},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props.value,a=[];return Array.isArray(t)&&t.forEach(function(t){t.uid?a.push(r.a.createElement("div",{key:t.uid},r.a.createElement("a",{href:"",onClick:e.handleCmaItemClicked.bind(e,t),title:t.name},t.name))):a.push(r.a.createElement("div",{key:t.name},t.name))}),1===a.length?r.a.createElement("div",null,a):a.length>1?r.a.createElement(gt.a,{content:a},r.a.createElement("span",{className:"cma-items-multiple-items"},r.a.createElement(G.a,{type:"bars"}),r.a.createElement("span",null," Multiple Items"))):"".concat(t)}}]),t}(n.Component));yt.defaultProps={value:"",context:{}};var bt=yt,Et=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.value,t=[];return Array.isArray(e)&&e.forEach(function(e,a){e.name?t.push(r.a.createElement("div",{key:e.uuid||e.name},e.name)):t.push(r.a.createElement("div",{key:e},e||""))}),1===t.length?r.a.createElement("div",null,t):t.length>1?r.a.createElement(gt.a,{content:t},r.a.createElement("span",{className:"cma-items-multiple-items"},r.a.createElement(G.a,{type:"bars"}),r.a.createElement("span",null," Multiple Items"))):"".concat(e)}}]),t}(n.Component);Et.defaultProps={value:""};var wt=Et,Ct=xe.a.Option,St=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={selectedValue:"All"},a.applyCustomFilter=function(e){var t=a.props,n=t.api,r=t.type;if(n&&e&&e.fieldName){var o=n.getFilterInstance(e.fieldName);o&&(o.setModel({type:r,filter:"All"===e.value?"":e.value}),n.onFilterChanged())}},a.onSelectChange=function(e){a.setState({selectedValue:e},function(){var e=a.state.selectedValue,t={fieldName:a.props.fieldName,value:e};a.applyCustomFilter(t)})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.options,a=e.showAutoComplete,n=this.state.selectedValue,o=t.map(function(e){return r.a.createElement(Ct,{title:e,value:e,key:e},e)});return a?r.a.createElement(Qe.a,{dataSource:t,style:{width:"100%"},size:"small",optionFilterProp:"children",value:"All"===n?"":n,filterOption:function(e,t){return-1!==t.props.children.toUpperCase().indexOf(e.toUpperCase())},defaultActiveFirstOption:!1,onChange:this.onSelectChange}):r.a.createElement(xe.a,{showSearch:!0,style:{width:"100%"},size:"small",optionFilterProp:"children",value:n,onChange:this.onSelectChange,defaultActiveFirstOption:!1},o)}}]),t}(n.Component),kt=(a(968),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={gridApi:null,gridParams:null,dataTableComponent:Object(De.a)(Object(De.a)(a))},a.gridWrapperRef=r.a.createRef(),a.overlayLoadingTemplate='<div class="spin-wrapper">\n    <div class="ant-spin ant-spin-lg ant-spin-spinning">\n    <span class="ant-spin-dot ant-spin-dot-spin"><i class="ant-spin-dot-item"></i><i class="ant-spin-dot-item"></i><i class="ant-spin-dot-item"></i><i class="ant-spin-dot-item"></i></span>\n    </div>\n    </div>',a.overlayNoRowsTemplate='<div class="no-results-wrapper">\n    <div class="message">\n    <i class="anticon anticon-exclamation-circle">\n    <svg viewBox="64 64 896 896" class="" data-icon="exclamation-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"></path><path d="M464 688a48 48 0 1 0 96 0 48 48 0 1 0-96 0zM488 576h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"></path></svg>\n    </i> \n    <span>No rows to show</span>\n    </div>\n    </div>',a.onGridReady=function(e){var t=a.props,n=t.autoHeight,r=t.filterData;a.setState({gridApi:e.api,gridParams:e,gridColumnApi:e.columnApi},function(){a.applyFilter(r)}),n&&e.api.resetRowHeights()},a.applyFilter=function(e){var t=a.state.gridParams;if(t&&t.api&&e&&e.fieldName){var n=t.api.getFilterInstance(e.fieldName);if(n){n.setModel({type:"contains",filter:e.value}),t.api.onFilterChanged();var r=t.columnApi.getAllDisplayedColumns().find(function(t){return t.colId===e.fieldName});t.api.ensureColumnVisible(r)}}},a.downloadCsv=function(e){a.state.gridApi.exportDataAsCsv(e)},a.showRequiredOverlay=function(e){var t=a.state.gridApi,n=a.props.rowData;t&&(e?t.showLoadingOverlay():e||n.length?t.hideOverlay():t.showNoRowsOverlay())},a.createColumnDefsWithOptions=function(){var e=a.props,t=e.columnDefs,n=e.rowData,r=e.isCmaTable,o=e.isReportsCmaTable,l=e.hiddenColumns;return n.length?t.map(function(e){var t=e,a=[];return t.cellRenderer=r?"cmaItemCellRenderer":"cellRenderer",t.cellRenderer=o?"reportsCellRenderer":t.cellRenderer,n.forEach(function(e){e[t.field]&&a.push(e[t.field])}),a.length&&-1===l.indexOf(t.field)||t.isEmptyShow?t.hide=!1:t.hide=!0,t}):[]},a.formatArray=function(e){var t="";return e.forEach(function(n,r){if("object"===typeof n){if(!n)return void(t+="");Array.isArray(n)?t+=a.formatArray(n):t+=a.formatObject(n)}else t+=n;r<e.length-1&&(t+=", ")}),t},a.formatObject=function(e){var t="";return Object.keys(e).forEach(function(n){Array.isArray(e[n])&&(t+=a.formatArray(e[n])),t+="".concat(e[n]," ")}),t},a.customFormatObject=function(e,t){var a=[];return Object.keys(e).forEach(function(n){t.indexOf(n)>=0&&a.push(e[n])}),a.join(", ")},a.customFilterUniqueData=function(e){a.props.columnDefs.forEach(function(t){if(t.floatingFilterComponent){var a=t.floatingFilterComponentParams.showAutoComplete,n=Object(et.a)(new Set(e.map(function(e){return e[t.field]})));a||n.unshift("All"),t.floatingFilterComponentParams.options=n}})},a.resetCustomFilters=function(){var e=a.state,t=e.gridApi,n=e.gridColumnApi;t&&(n.resetColumnState(),t.setFilterModel(null),t.onFilterChanged())},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.filterData,n=t.tableResultsAreLoading;e.tableResultsAreLoading&&!n&&this.resetCustomFilters(),a&&a.fieldName&&a.applyFilter&&this.applyFilter(a)}},{key:"componentWillUnmount",value:function(){var e=this.state.gridApi;e&&e.destroy&&e.destroy()}},{key:"render",value:function(){var e=this,t=this.state,a=t.gridApi,n=t.dataTableComponent;return r.a.createElement(O,null,function(t){var o=t.tableResultsAreLoading,l=e.props,i=l.tableHeight,c=l.enableColResize,s=l.rowData,u=l.enableSorting,d=l.enableFilter,m=l.floatingFilter,p=l.suppressMenu,h=l.headerHeight,f=l.floatingFiltersHeight,v=l.rowHeight,g=l.pagination,y=l.context,b=l.autoHeight;e.showRequiredOverlay(o),e.customFilterUniqueData(s);var E=e.createColumnDefsWithOptions(),w=ee()("ag-theme-balham",{"auto-height":b});if(e.gridWrapperRef.current&&a){var C=e.gridWrapperRef.current.clientWidth;200*E.length<=C&&a.sizeColumnsToFit()}return r.a.createElement("div",{ref:e.gridWrapperRef,className:w,style:{height:"".concat(i,"px"),visibility:a?"visible":"hidden"}},r.a.createElement(mt.AgGridReact,{enableColResize:c,columnDefs:E,rowData:s,enableSorting:u,enableFilter:d,floatingFilter:m,suppressMenu:p,headerHeight:h,floatingFiltersHeight:f,rowHeight:v,pagination:g,suppressRowClickSelection:!0,suppressCellSelection:!0,rowSelection:"single",overlayLoadingTemplate:e.overlayLoadingTemplate,overlayNoRowsTemplate:e.overlayNoRowsTemplate,getRowHeight:e.getRowHeight,onGridReady:e.onGridReady,frameworkComponents:{cellRenderer:vt,cmaItemCellRenderer:bt,reportsCellRenderer:wt,selectFloatingFilter:St},context:y,suppressColumnMoveAnimation:!0,animateRows:!0,defaultColDef:{filter:"agTextColumnFilter",filterParams:{valueGetter:function(e){var t=e.data[this.column.colId],a=this.column.colDef,r=a.isFormatFilter,o=a.formatFilterKeys;return null===t?"":r&&o.length&&"object"===typeof t?n.customFormatObject(t,o):"object"===typeof t?Array.isArray(t)?n.formatArray(t):n.formatObject(t):t}},width:200}}))})}}]),t}(n.Component));kt.defaultProps={pagination:!0,enableFilter:!0,enableSorting:!0,enableColResize:!0,floatingFilter:!0,suppressMenu:!0,autoHeight:!1,isCmaTable:!1,isReportsCmaTable:!1,tableResultsAreLoading:!1,headerHeight:40,floatingFiltersHeight:40,rowHeight:38,context:{},hiddenColumns:[],filterData:{}};var Ot=kt,Nt=(a(422),a(152)),jt=Nt.a.TabPane,Dt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={activeTabKey:"1"},a.tabsOnChange=function(e){a.setState({activeTabKey:e})},a.handleWindowResize=function(){a.props.categoryData.metadata&&a.setMetaDataVerticalHeight()},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.categoryData;window.addEventListener("resize",this.handleWindowResize),e.metadata&&window.requestAnimationFrame(this.setMetaDataVerticalHeight)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize)}},{key:"render",value:function(){var e=this.props.categoryData,t=this.state.activeTabKey;if(e.categories){var a=e.categories.map(function(e,a){if(e.isShow){var n=a+1;return r.a.createElement(jt,{tab:e.title,key:n},+n===+t&&r.a.createElement("h3",null,"Tab Content"))}});return r.a.createElement("div",{className:"device-data-tab"},!!e.categories.length&&r.a.createElement(Nt.a,{defaultActiveKey:"1",onChange:this.tabsOnChange,activeKey:t,animated:!1},a))}return r.a.createElement("h3",null,"No Data")}}]),t}(n.Component);Dt.defaultProps={categoryData:[]};var xt=Dt,Mt=xe.a.Option,At=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).defaultColumnDefs={suppressMenu:!0},a.state={tableHeight:600,modalBodyHeight:0,hiddenColumns:[],columnDefs:[],viewSelection:"card",showDetailsModal:!1,dsmModel:{inventory:{find:"domain.inventory",view:"list",fields:[{label:"Hostname",name:"hostname",isShow:!0},{label:"IP",name:"ip",isShow:!1},{label:"Node",name:"node",isShow:!1},{label:"Port",name:"port",isShow:!0},{label:"Profile",name:"profile",isShow:!0},{label:"Transport",name:"transport",isShow:!0},{label:"Country",name:"country",isShow:!0}]},domain:{inventory:[{hostname:"cma_LibertyGlobal-Corp-p",ip:"172.24.17.41",node:"MTI",profile:"CMA, Checkpoint, R80",transport:"checkpoint_cma_r80",port:"80",country:"Netherlands"},{hostname:"nlamska-lb07",ip:"10.64.97.32",node:"MTI",profile:"LB, F5, 2",transport:"f5",port:"81",country:"Netherlands"},{hostname:"CH xbeam CPM02",ip:"172.27.175.62",node:"MTI",profile:"FW, Crossbeam-CPM, 1",transport:"crossbeam_cpm",port:"33",country:"Netherlands"},{hostname:"cma-VOIP3-p",ip:"34.344.234.123",node:"CNO",profile:"FW, Crossbeam-APM, 1",transport:"autodetect",port:"34",country:"Liberty Global"},{hostname:"cma_LibertyGlobal-Corp-p",ip:"172.24.17.41",node:"MTI",profile:"CMA, Checkpoint, R80",transport:"checkpoint_cma_r80",port:"80",country:"Netherlands"},{hostname:"nlamska-lb07",ip:"10.64.97.32",node:"MTI",profile:"LB, F5, 2",transport:"f5",port:"81",country:"Netherlands"},{hostname:"CH xbeam CPM02",ip:"172.27.175.62",node:"MTI",profile:"FW, Crossbeam-CPM, 1",transport:"crossbeam_cpm",port:"33",country:"Netherlands"},{hostname:"cma-VOIP3-p",ip:"34.344.234.123",node:"CNO",profile:"FW, Crossbeam-APM, 1",transport:"autodetect",port:"34",country:"Liberty Global"},{hostname:"cma_LibertyGlobal-Corp-p",ip:"172.24.17.41",node:"MTI",profile:"CMA, Checkpoint, R80",transport:"checkpoint_cma_r80",port:"80",country:"Netherlands"}],subdomain:[]}}},a.changeView=function(e){a.setState({viewSelection:e})},a.handleModelCancel=function(){a.setState({showDetailsModal:!1})},a.titleClick=function(){a.setState({showDetailsModal:!0})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.dsmModel,t=[],a=!0,n=!1,r=void 0;try{for(var o,l=e.inventory.fields[Symbol.iterator]();!(a=(o=l.next()).done);a=!0){var i=o.value;i.isShow&&t.push(Object(w.a)({},this.defaultColumnDefs,{headerName:i.label,field:i.name}))}}catch(c){n=!0,r=c}finally{try{a||null==l.return||l.return()}finally{if(n)throw r}}this.setState({columnDefs:t,viewSelection:e.inventory.view})}},{key:"render",value:function(){var e=this.state,t=e.dsmModel,a=e.columnDefs,n=e.tableHeight,o=e.hiddenColumns,l=e.viewSelection,i=e.showDetailsModal;return r.a.createElement("div",{className:"dsm-viewer"},r.a.createElement("div",{className:"selects"},r.a.createElement("div",{className:"form-control"},r.a.createElement("label",{className:"select-label"},"Component"),r.a.createElement(xe.a,{showSearch:!0,placeholder:"Select Component...",value:l,onChange:this.changeView},r.a.createElement(Mt,{value:"card",key:"card"},"Card View"),r.a.createElement(Mt,{value:"list",key:"list"},"List View"),r.a.createElement(Mt,{value:"table",key:"table"},"Table View")))),r.a.createElement("div",{className:"dsm-viewer-body"},"card"===l&&r.a.createElement(st,{data:t.domain.inventory,fields:t.inventory.fields}),"list"===l&&r.a.createElement(dt,{data:t.domain.inventory,fields:t.inventory.fields,titleClickHandler:this.titleClick}),"table"===l&&r.a.createElement(Ot,{ref:this.dataTableRef,columnDefs:a,rowData:t.domain.inventory,tableHeight:n,hiddenColumns:o})),i&&r.a.createElement(ye.a,{title:"Title",visible:i,onCancel:this.handleModelCancel,width:"960px",footer:null,style:{top:"40px"},bodyStyle:{height:"500px"},destroyOnClose:!0},r.a.createElement(xt,{categoryData:{categories:[{title:"Invntory",isShow:!0,data:[{hostname:"cma_LibertyGlobal-Corp-p",ip:"172.24.17.41",node:"MTI"},{hostname:"cma_LibertyGlobal-Corp-p",ip:"172.24.17.41",node:"MTI"},{hostname:"cma_LibertyGlobal-Corp-p",ip:"172.24.17.41",node:"MTI"}]},{title:"Arp",isShow:!0,data:[]},{title:"VLAN",isShow:!0,data:[]},{title:"VLAN 1",isShow:!0,data:[]}]}})))}}]),t}(n.Component),It=(a(970),Z.a.Content),Tt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={isRolesLoaded:!0},a.getRoles=function(){R().then(function(e){return a.handleGetRolesSuccess(e)}).catch(function(e){return a.handleGetRolesError()})},a.handleGetRolesSuccess=function(e){localStorage.setItem("roles",JSON.stringify(e.data)),a.setState({isRolesLoaded:!0})},a.handleGetRolesError=function(){J.a.error("Unfortunately there was an error, please try again")},a.routes=function(){var e=[];return localStorage.getItem("roles")&&(e=JSON.parse(localStorage.getItem("roles"))),localStorage.removeItem("roles-initiated"),e.length||J.a.warning("You have no user roles assigned."),r.a.createElement(f.a,null,r.a.createElement(v.a,{path:"/dsm-search",component:lt}),r.a.createElement(v.a,{path:"/dsm-editor",component:Xe}),r.a.createElement(v.a,{path:"/dsm-viewer",component:At}),e.includes("search")&&r.a.createElement(g.a,{to:"/dsm-search"}))},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){localStorage.getItem("roles-initiated")||(localStorage.removeItem("roles"),this.setState({isRolesLoaded:!1}),this.getRoles())}},{key:"render",value:function(){var e=this.props.location,t=this.state.isRolesLoaded,a=ee()("global-content",{"global-content-search":"/dsm-search"===e.pathname,"global-content-devices":"/devices"===e.pathname,"global-content-policies":"/policies"===e.pathname,"global-content-admin":0===e.pathname.indexOf("/admin/")});return r.a.createElement(Z.a,{className:"global-layout"},r.a.createElement(ge,null),r.a.createElement(It,{className:a},r.a.createElement(f.a,null,t?this.routes():"")))}}]),t}(n.Component),Rt=Object(y.a)(Tt),Ft=(a(972),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).handleNetworkConnectionChange=function(){var t=e.state.connectionTimeout;e.webPingTimer=setInterval(function(){e.networkConnectionPolling()},t)},e.handleNotificationClose=function(){e.showNotification=!0},e.networkConnectionPolling=function(){var t=e.props.history.location.pathname.replace("/",""),a=localStorage.getItem("auth"),n=(a?JSON.parse(a):{username:""}).username;L(5e3,t,n).then(function(t){e.showNotification=!0,s.a.destroy()}).catch(function(t){e.showNotification&&(e.showNotification=s.a.info({message:"Network Error!",description:"Cannot connect to server, please check the vpn.",placement:"topRight",duration:0,onClose:e.handleNotificationClose}))})},e.state={},e.webPingTimer=null,e.showNotification=!0,e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.webPingTimer&&clearInterval(this.webPingTimer)}},{key:"render",value:function(){return r.a.createElement(k,null,r.a.createElement(f.a,null,r.a.createElement(v.a,{path:"/public",component:Q}),r.a.createElement(Lt,{path:"/",component:Rt}),r.a.createElement(g.a,{to:"/public"})))}}]),t}(r.a.Component)),Lt=function(e){var t=e.component,a=Object(c.a)(e,["component"]);return r.a.createElement(v.a,Object.assign({},a,{render:function(e){return function(){var e=localStorage.getItem("auth")||"";if(!e)return!1;if(!(e=JSON.parse(e)).logged_in_till)return!1;var t=E.a.unix(e.logged_in_till);return!!t.isValid()&&!E()().isAfter(t)}()?r.a.createElement(t,e):r.a.createElement(g.a,{to:{pathname:"/public",state:{from:e.location}}})}}))},Pt=Object(y.a)(Ft);l.a.render(r.a.createElement(i.a,null,r.a.createElement(Pt,null)),document.getElementById("root"))}},[[535,2,1]]]);
//# sourceMappingURL=main.75e5d99b.chunk.js.map